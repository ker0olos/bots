{
  "$id": "media.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "description": "A unique alphanumeric id",
      "pattern": "^[-_a-z0-9]+$"
    },
    "type": {
      "enum": ["ANIME", "MANGA"],
      "description": "Choose what type of media this is"
    },
    "format": {
      "description": "Choose what format of media this is",
      "enum": [
        "TV",
        "TV_SHORT",
        "MOVIE",
        "SPECIAL",
        "OVA",
        "ONA",
        "MUSIC",
        "MANGA",
        "NOVEL",
        "ONE_SHOT",
        "INTERNET"
      ]
    },
    "title": {
      "type": "object",
      "description": "The title of the media",
      "additionalProperties": false,
      "minProperties": 1,
      "properties": {
        "english": {
          "type": "string"
        },
        "romaji": {
          "type": "string"
        },
        "native": {
          "type": "string"
        }
      }
    },
    "popularity": {
      "type": "integer",
      "description": "Set the popularity of the media (the number of followers or people who read/watch it)",
      "minimum": 0
    },
    "description": {
      "type": "string",
      "description": "Add a description about the media"
    },
    "coverImage": {
      "type": "object",
      "description": "Set the default images for the media",
      "additionalProperties": false,
      "properties": {
        "extraLarge": {
          "$comment": "450x635",
          "description": "A url of an extra large image (recommended: 450x635)",
          "type": "string"
        },
        "large": {
          "$comment": "230x345",
          "description": "A url of a large image (recommended: 230x345)",
          "type": "string"
        },
        "medium": {
          "$comment": "100x150",
          "description": "A url of a medium/small image (recommended: 100x150)",
          "type": "string"
        },
        "color": {
          "type": "string",
          "description": "A color to be used in embeds (in #hex)"
        }
      }
    },
    "externalLinks": {
      "type": "array",
      "description": "A list of urls for the media's pages on various platforms",
      "items": {
        "type": "object",
        "required": ["site", "url"],
        "additionalProperties": false,
        "properties": {
          "site": {
            "type": "string",
            "description": "The name of the site (e.g. Homepage, Crunchyroll)"
          },
          "url": {
            "type": "string",
            "description": "The url of the site (e.g. example.com)"
          }
        }
      }
    },
    "trailer": {
      "type": "object",
      "description": "A url to a trailer about the media",
      "required": ["site", "id"],
      "additionalProperties": false,
      "properties": {
        "site": {
          "description": "The name of the site (only supports youtube)",
          "enum": ["youtube"]
        },
        "id": {
          "type": "string",
          "description": "The id of the video",
          "pattern": "([A-Za-z0-9_\\-]{11})"
        }
      }
    },
    "relations": {
      "type": "object",
      "description": "Define the relations between this media and other media",
      "required": ["relationType", "mediaId"],
      "additionalProperties": false,
      "properties": {
        "relation": {
          "description": "Choose the kind of relationship between this media a different media",
          "enum": [
            "PREQUEL",
            "SEQUEL",
            "PARENT",
            "CONTAINS",
            "SIDE_STORY",
            "SPIN_OFF",
            "ADAPTATION",
            "OTHER"
          ]
        },
        "mediaId": {
          "type": "string",
          "description": "Reference an existing media ([pack:]id)",
          "pattern": "^([-_a-z0-9]+)(:[-_a-z0-9]+)?$"
        }
      }
    },
    "characters": {
      "type": "object",
      "description": "A list of characters that appear in the media",
      "required": ["relationType", "characterId"],
      "additionalProperties": false,
      "properties": {
        "role": {
          "description": "Choose the role the character plays in the media",
          "enum": ["MAIN", "SUPPORTING", "BACKGROUND"]
        },
        "characterId": {
          "type": "string",
          "description": "Reference an existing character ([pack:]id)",
          "pattern": "^([-_a-z0-9]+)(:[-_a-z0-9]+)?$"
        }
      }
    }
  }
}
