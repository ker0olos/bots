{
  "$id": "character.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "id": {
      "type": "string",
      "description": "A unique alphanumeric id",
      "pattern": "^[-_a-z0-9]+$",
      "minLength": 1,
      "maxLength": 20
    },
    "name": {
      "type": "object",
      "description": "The name of the character",
      "additionalProperties": false,
      "anyOf": [
        { "required": ["english"] },
        { "required": ["romaji"] },
        { "required": ["native"] }
      ],
      "properties": {
        "english": {
          "type": "string"
        },
        "romaji": {
          "type": "string"
        },
        "native": {
          "type": "string"
        },
        "alternative": {
          "type": "array",
          "description": "A list of alternative known aliases of the character",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "description": {
      "type": "string",
      "description": "Add a description about this character",
      "maxLength": 2048
    },
    "popularity": {
      "type": "integer",
      "description": "Set the popularity of the character (the number of followers or people who likes them)",
      "minimum": 0
    },
    "gender": {
      "description": "The gender of the character",
      "type": "string"
    },
    "age": {
      "description": "The age of the character",
      "type": "string"
    },
    "image": {
      "type": "object",
      "description": "Set the default images for the character",
      "properties": {
        "extraLarge": {
          "$comment": "450x635",
          "description": "A url of an extra large image (recommended: 450x635)",
          "type": "string"
        },
        "large": {
          "$comment": "230x345",
          "description": "A url of a large image (recommended: 230x345)",
          "type": "string"
        },
        "medium": {
          "$comment": "100x150",
          "description": "A url of a medium/small image (recommended: 100x150)",
          "type": "string"
        },
        "color": {
          "type": "string",
          "description": "A color to be used in embeds (in #hex)"
        }
      }
    },
    "externalLinks": {
      "type": "array",
      "description": "A list of urls for the media's pages on various platforms",
      "items": {
        "type": "object",
        "required": ["site", "url"],
        "additionalProperties": false,
        "properties": {
          "site": {
            "type": "string",
            "description": "The title of the site"
          },
          "url": {
            "type": "string",
            "pattern": "^(https:\\/\\/)?(www\\.)?(youtube\\.com|twitch\\.tv|crunchyroll\\.com|tapas\\.io|webtoon\\.com|amazon\\.com)[\\S]*$",
            "description": "The full url of the site"
          }
        }
      }
    },
    "media": {
      "type": "array",
      "description": "A list of media that the character appears in",
      "items": {
        "required": ["role", "mediaId"],
        "additionalProperties": false,
        "properties": {
          "role": {
            "description": "Choose the role the character plays in the media",
            "enum": ["MAIN", "SUPPORTING", "BACKGROUND"]
          },
          "mediaId": {
            "type": "string",
            "description": "Reference an existing character ([pack:]id)",
            "pattern": "^([-_a-z0-9]+)(:[-_a-z0-9]+)?$"
          }
        }
      }
    }
  }
}
