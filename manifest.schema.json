{
  "$schema": "http://json-schema.org/schema",
  "$id": "https://raw.githubusercontent.com/ker0olos/fable/main/manifest.schema.json",
  "type": "object",
  "required": ["id"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9]+$",
      "description": "A unique alphanumeric id"
    },
    "title": {
      "type": "string",
      "description": "The display title of the pack"
    },
    "description": {
      "type": "string",
      "description": "Small description about the pack and what it contains"
    },
    "nsfw": {
      "type": "boolean",
      "description": "If the pack contains nsfw (adult) content"
    },
    "author": {
      "type": "string",
      "description": "The name of the pack's author"
    },
    "image": {
      "type": "string",
      "description": "The icon of the pack or its author",
      "format": "uri"
    },
    "url": {
      "type": "string",
      "description": "The url to pack's homepage",
      "format": "uri"
    },
    "media": {
      "type": "array",
      "description": "An list of media (anime/manga) to add, override, or extend",
      "items": {
        "type": "object",
        "required": ["id"],
        "properties": {
          "id": {
            "type": ["string", "number"],
            "description": "A unique alphanumeric id",
            "pattern": "^[a-z][a-z0-9]+$",
            "minimum": 0
          },
          "behavior": {
            "enum": ["NEW", "OVERRIDE", "EXTEND"],
            "description": "Choose how the media behaves when its loaded"
          },
          "type": {
            "enum": ["ANIME", "MANGA"],
            "description": "Choose what type of media this is"
          },
          "format": {
            "description": "Choose what format of media this is",
            "enum": [
              "TV",
              "TV_SHORT",
              "MOVIE",
              "SPECIAL",
              "OVA",
              "ONA",
              "MUSIC",
              "MANGA",
              "NOVEL",
              "ONE_SHOT"
            ]
          },
          "title": {
            "type": "object",
            "description": "The title of the media",
            "properties": {
              "english": {
                "type": "string"
              },
              "romaji": {
                "type": "string"
              },
              "native": {
                "type": "string"
              }
            }
          },
          "popularity": {
            "type": "integer",
            "description": "Set the popularity of the media (the number of followers or people who read/watch it)",
            "minimum": 0
          },
          "description": {
            "type": "string",
            "description": "Add a description about the media"
          },
          "coverImage": {
            "type": "object",
            "description": "Set the default images for the media",
            "properties": {
              "extraLarge": {
                "$comment": "450x635",
                "description": "A url of an extra large image (recommended: 450x635)",
                "type": "string",
                "format": "uri"
              },
              "large": {
                "$comment": "230x345",
                "description": "A url of a large image (recommended: 230x345)",
                "type": "string",
                "format": "uri"
              },
              "medium": {
                "$comment": "100x150",
                "description": "A url of a medium/small image (recommended: 100x150)",
                "type": "string",
                "format": "uri"
              }
            }
          },
          "externalLinks": {
            "type": "array",
            "description": "A list of urls for the media's pages on various platforms",
            "items": {
              "type": "object",
              "required": ["site", "url"],
              "properties": {
                "site": {
                  "type": "string"
                },
                "url": {
                  "type": "string"
                }
              }
            }
          },
          "trailer": {
            "type": "object",
            "description": "A url to a trailer about the media",
            "required": ["site", "id"],
            "properties": {
              "site": {
                "enum": ["youtube"]
              },
              "id": {
                "type": "string"
              }
            }
          },
          "relations": {
            "type": "object",
            "description": "Define the relations between this media and other medias",
            "required": ["relationType", "mediaId"],
            "properties": {
              "relationType": {
                "description": "Choose the kind of relationship between this media a different media",
                "enum": [
                  "PREQUEL",
                  "SEQUEL",
                  "PARENT",
                  "CONTAINS",
                  "SIDE_STORY",
                  "SPIN_OFF",
                  "ADAPTATION",
                  "OTHER"
                ]
              },
              "mediaId": {
                "type": ["string", "number"],
                "description": "The id of a different media",
                "pattern": "^[a-z][a-z0-9]+$",
                "minimum": 0
              }
            }
          },
          "characters": {
            "type": "object",
            "description": "A list of characters that appear in the media",
            "required": ["relationType", "characterId"],
            "properties": {
              "relationType": {
                "description": "Choose the role the character plays in the media",
                "enum": ["MAIN", "SUPPORTING", "BACKGROUND"]
              },
              "characterId": {
                "type": ["string", "number"],
                "description": "The id of the character",
                "pattern": "^[a-z][a-z0-9]+$",
                "minimum": 0
              }
            }
          }
        }
      }
    },
    "characters": {
      "type": "array",
      "description": "An list of characters to add, override, or extend",
      "items": {
        "type": "object",
        "required": ["id"],
        "properties": {
          "id": {
            "type": ["string", "number"],
            "description": "A unique alphanumeric id",
            "pattern": "^[a-z][a-z0-9]+$",
            "minimum": 0
          },
          "behavior": {
            "description": "Choose how the character behaves when its loaded",
            "enum": ["NEW", "OVERRIDE", "EXTEND"]
          },
          "name": {
            "type": "object",
            "description": "The name/aliases of the character",
            "required": ["full"],
            "properties": {
              "full": {
                "type": "string",
                "description": "The default name of the character"
              },
              "native": {
                "type": "string",
                "description": "The name of the character in their own language"
              },
              "alternative": {
                "type": "array",
                "description": "A list of alternative/aliases for the character",
                "items": {
                  "type": "string"
                }
              },
              "alternativeSpoiler": {
                "type": "array",
                "description": "A list of alternative/aliases for the character that might contain spoilers",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "gender": {
            "description": "The gender of the character",
            "type": "string"
          },
          "age": {
            "description": "The age of the character",
            "type": "string"
          },
          "image": {
            "type": "object",
            "description": "Set the default images for the character",
            "required": ["large", "medium"],
            "properties": {
              "large": {
                "$comment": "230x345",
                "description": "A url of a large image (recommended: 230x345)",
                "type": "string",
                "format": "uri"
              },
              "medium": {
                "$comment": "100x150",
                "description": "A url of a medium/small image (recommended: 100x150)",
                "type": "string",
                "format": "uri"
              }
            }
          },
          "media": {
            "type": "object",
            "description": "A list of media that the character appears in",
            "required": ["relationType", "mediaId"],
            "properties": {
              "relationType": {
                "description": "Choose the role the character plays in the media",
                "enum": ["MAIN", "SUPPORTING", "BACKGROUND"]
              },
              "mediaId": {
                "type": ["string", "number"],
                "description": "The id of the media",
                "pattern": "^[a-z][a-z0-9]+$",
                "minimum": 0
              }
            }
          }
        }
      }
    }
  }
}
