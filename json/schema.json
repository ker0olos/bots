{
  "$id": "https://raw.githubusercontent.com/ker0olos/fable/main/json/schema.json",
  "title": "manifest",
  "type": "object",
  "required": ["id"],
  "properties": {
    "id": {
      "title": "id",
      "type": "string",
      "description": "A unique alphanumeric id",
      "pattern": "^(?!.*(\bfable\b|\bvtubers\b|\banilist\b))[-_a-z0-9]+$",
      "minLength": 1,
      "maxLength": 20
    },
    "title": {
      "title": "title",
      "type": "string",
      "description": "The display name of the pack",
      "maxLength": 128
    },
    "description": {
      "title": "description",
      "type": "string",
      "description": "Small description about the pack and what it contains",
      "maxLength": 2048
    },
    "author": {
      "title": "author",
      "type": "string",
      "description": "The name of the pack's author",
      "pattern": "^(?!.*\bFable\b).+$"
    },
    "image": {
      "title": "image",
      "type": "string",
      "description": "The icon of the pack or its author"
    },
    "url": {
      "title": "url",
      "type": "string",
      "description": "A url to pack's homepage"
    },
    "depends": {
      "title": "depends",
      "type": "array",
      "description": "A list of packs that are required to make your pack function properly",
      "items": {
        "title": "dependency",
        "type": "string",
        "description": "Reference a pack",
        "pattern": "^[-_a-z0-9]+$"
      }
    },
    "conflicts": {
      "title": "conflicts",
      "type": "array",
      "description": "A list of packs that might conflict with your pack",
      "items": {
        "title": "conflict",
        "type": "string",
        "description": "Reference a pack",
        "pattern": "^[-_a-z0-9]+$"
      }
    },
    "maintainers": {
      "title": "maintainers",
      "type": "array",
      "description": "A list of discord ids with accesses to manage this pack",
      "items": {
        "title": "user",
        "type": "string",
        "description": "Discord User Id",
        "pattern": "^[0-9]+$"
      }
    },
    "media": {
      "title": "media",
      "type": "object",
      "description": "Media to add, disable or overwrite",
      "additionalProperties": false,
      "properties": {
        "new": {
          "title": "new",
          "type": "array",
          "description": "A list of new media to add",
          "items": {
            "title": "media",
            "allOf": [{ "$ref": "media.json" }],
            "required": ["id", "title", "type"]
          }
        },
        "conflicts": {
          "title": "conflicts",
          "type": "array",
          "description": "A list of media that might conflict with your pack. All media listed here will be entirely disabled.",
          "items": {
            "title": "conflict",
            "type": "string",
            "description": "Reference an existing media (pack:id)",
            "examples": ["anilist:118123", "vtubers:hololive"],
            "pattern": "^[-_a-z0-9]+:[-_a-z0-9]+$"
          }
        }
      }
    },
    "characters": {
      "title": "characters",
      "type": "object",
      "description": "Characters to add, disable or overwrite",
      "additionalProperties": false,
      "properties": {
        "new": {
          "title": "new",
          "type": "array",
          "description": "A list of new characters to add",
          "items": {
            "title": "character",
            "allOf": [{ "$ref": "character.json" }],
            "required": ["id", "name"]
          }
        },
        "conflicts": {
          "title": "conflicts",
          "type": "array",
          "description": "A list of characters that might conflict with your pack (All characters listed here will be entirely disabled).",
          "items": {
            "title": "conflict",
            "type": "string",
            "description": "Reference an existing character (pack:id)",
            "examples": ["anilist:206017", "vtubers:gura"],
            "pattern": "^[-_a-z0-9]+:[-_a-z0-9]+$"
          }
        }
      }
    }
  }
}
